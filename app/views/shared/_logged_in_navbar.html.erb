<% if current_member %>
  <nav class="pl-6 bg-gray-200 shadow-sm border-b-2 border-gray-700 mb-6">
    
    <div class="px-2 py-3 hidden md:flex" id="statAppNav">
      <ul class="flex">
        <li class="mr-6 underline-gray"><%= link_to "Home", league_games_path(@league_id), class: "text-black hover:text-gray-700" %></li>
        <li class="mr-6 underline-gray"><%= link_to "Players", league_members_path(@league_id), class: "text-black hover:text-gray-700" %></li>
        <li class="mr-6 underline-gray"><%= link_to "Seasons", league_seasons_path(@league_id), class: "text-black hover:text-gray-700" %></li>
        <li class="mr-6 underline-gray">
          <div class="dropdown inline-block drop-link">
            <a class="inline-flex items-center" href="#">
              Recordbook
            </a>
            <ul class="dropdown-menu absolute hidden text-gray-800 pt-1 bg-gray-200 whitespace-no-wrap overflow-x-visible drop-menu">
              <li class="px-2"><%= link_to "Single Game", league_recordbook_game_path(@league_id), class: "dropdown-item text-black hover:text-gray-700 py-2 overflow-x-visible block" %></li>
              <li class="px-2"><%= link_to "Season", league_recordbook_season_path(@league_id), class: "dropdown-item text-black hover:text-gray-700 py-2 overflow-x-visible block" %></li>
              <li class="px-2"><%= link_to "All Time", league_recordbook_all_time_path(@league_id), class: "dropdown-item text-black hover:text-gray-700 overflow-x-visible rounded-t py-2 block" %></li>
            </ul>
          </div>
        </li>
        <li class="mr-6 underline-gray"><%= link_to "Champions Club", league_champions_club_index_path(@league_id), class: "text-black hover:text-gray-700" %></li>
        <li class="mr-6 underline-gray"><%= link_to "Logout!", logout_path, data: { "turbo-method": :delete }, class: "text-black hover:text-gray-700" %></li>
      </ul>
    </div>

    <div class="md:hidden flex items-center py-4">
			<button class="outline-none mobile-menu-button">
        <svg class=" w-8 h-8 text-gray-500 hover:text-green-500"
          x-show="!showMenu"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="3"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
			</button>
		</div>

    <div class="hidden mobile-menu">
			<ul class="">
				<li><%= link_to "Home", league_games_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
				<li><%= link_to "Players", league_members_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
				<li><%= link_to "Seasons", league_seasons_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
        <li><%= link_to "Recordbook - Single Game", league_recordbook_game_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
        <li><%= link_to "Recordbook - Season", league_recordbook_season_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
        <li><%= link_to "Recordbook - All Time", league_recordbook_all_time_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
        <li><%= link_to "Champions Club", league_champions_club_index_path(@league_id), class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
        <li><%= link_to "Logout!", logout_path, data: { "turbo-method": :delete }, class: "nav-link block text-xl px-2 py-4 hover:bg-green-500 transition duration-300" %></li>
			</ul>
		</div>
  </nav>
<% end %>

<script>
  var dropdown = document.querySelector(".drop-link");
  var dropmenu = document.querySelector(".drop-menu")
  var btn = document.querySelector("button.mobile-menu-button");
  var menu = document.querySelector(".mobile-menu");

  btn.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });

  dropdown.addEventListener("click", () => {
    dropmenu.classList.toggle("hidden");
  });
</script>
